<html>
<link rel="stylesheet" href="static/bulma/css/bulma.css"/>
<script src="static/js/fetchival.js"></script> <!-- https://github.com/typicode/fetchival -->
<script src="static/vue/vue.js"></script>

<section class="hero is-primary">
    <div class="hero-body">
        <div class="container">
            <p class="title">This is a demo to a <a href="https://github.com/jgthms/bulma/issues/1080">Pull Request</a> on Bulma.io</p>
            <p class="subtitle">Responsive table demo.</p>
        </div>
    </div>
</section>


<div id="app" class="demo">

    <section class="section">
        <div class="columns">
            <div class="column is-4 is-offset-4">
                <div class="field">
                    <label class="label">ID</label>
                    <div class="control">
                        <input class="input" type="text" placeholder="Text input">
                    </div>
                </div>
                <div class="field">
                    <label class="label">Data</label>
                    <div class="control">
                        <input class="input" type="text" placeholder="Text input">
                    </div>
                </div>
                <div class="field">
                    <label class="label">Signature</label>
                    <div class="control">
                        <input class="input" type="text" placeholder="Text input">
                    </div>
                </div>
                <div class="field">
                    <label class="label">Next Pub Key</label>
                    <div class="control">
                        <input class="input" type="text" placeholder="Text input">
                    </div>
                </div>
            </div>
        </div>
    </section>


    <table class="table is-responsive" >
        <thead>
        <tr>
            <th>Header A</th>
            <th>Header B</th>
            <th>Header C</th>
            <th>Header D</th>
            <th>Header E</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="entry in blocks">
            <td>{{entry}}</td>
        </tr>
        </tbody>
    </table>

</div>
<script>
    var app = new Vue({
        el: '#app',
        data: {
            blocks: []
        },
        created () {
            this.fetchData()
        },
        watch: {
            '$route': 'fetchData'
        },
        methods: {

            fetchData() {
                var self = this;
                this.error = this.post = null
                this.loading = true
                // POST /users
                fetchival('/blocks').get()
                    .then(function(json) {
                        self.blocks=json;
                    })
            }
        }
    })
</script>
</html>